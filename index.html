<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kyle Resume Generator</title>
  <style>
  body {
  margin: 0;
  font-family: 'Inter', system-ui, sans-serif;
  background: #f8fafc;
  display: flex;
  height: 100vh;
  overflow: hidden;
}

.editor {
  width: 380px;              /* was 440 */
  background: #1e2937;
  color: white;
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  overflow-y: auto;
}

.preview {
  flex: 1;
  background: white;
  overflow-y: auto;
  padding: 20px 28px;        /* reduced */
  box-shadow: inset 0 0 16px rgba(0,0,0,0.04);
}

textarea {
  flex: 1;
  background: #0f172a;
  color: #e2e8f0;
  border: none;
  border-radius: 6px;
  padding: 12px;
  font-family: monospace;
  font-size: 12px;
  resize: none;
}

button {
  background: #3b82f6;
  color: white;
  border: none;
  padding: 10px 18px;       /* smaller */
  border-radius: 6px;
  font-weight: 600;
  cursor: pointer;
  font-size: 14px;
}

/* ==================== RESUME STYLING ==================== */

.resume {
  max-width: 8.5in;
  margin: 0 auto;
  background: white;
  padding: 0.4in 0.4in;     /* slightly tighter */
  font-size: 9.8pt;         /* slightly smaller */
  line-height: 1.35;        /* tighter */
  color: #1f2937;
}

.header {
  text-align: center;
  margin-bottom: 0.12in;   /* reduced */
  padding-bottom: 0.1in;
  border-bottom: 2px solid #1e40af; /* thinner */
}

h1 {
  font-size: 24pt;          /* was 27 */
  font-weight: 700;
  color: #1e40af;
  margin-bottom: 3pt;
}

.contact {
  font-size: 9.8pt;
  color: #475569;
}

.title {
  font-size: 10.5pt;
  font-weight: 600;
  color: #1e40af;
  margin: 6pt 0 6pt;        /* tighter */
}

h2 {
  font-size: 9.8pt;
  color: #1e40af;
  border-bottom: 1px solid #e2e8f0;
  padding-bottom: 3pt;
  margin: 10pt 0 6pt;       /* reduced */
}

ul {
  padding-left: 16pt;
  margin: 4pt 0 8pt;        /* reduced */
}

li {
  margin-bottom: 4pt;       /* tighter bullets */
}

.skills {
  font-size: 9.6pt;
  line-height: 1.3;
  color: #374151;
}

section {
  margin-bottom: 8pt;       /* new — compress section gap */
}

/* Experience block tighter */
.jobBlock {
  margin-bottom: 10pt;      /* was 16pt inline */
}

@page {
  size: letter;
  margin: 0.4in;
}body {
  margin: 0;
  font-family: 'Inter', system-ui, sans-serif;
  background: #f8fafc;
  display: flex;
  height: 100vh;
  overflow: hidden;
}

.editor {
  width: 380px;              /* was 440 */
  background: #1e2937;
  color: white;
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  overflow-y: auto;
}

.preview {
  flex: 1;
  background: white;
  overflow-y: auto;
  padding: 20px 28px;        /* reduced */
  box-shadow: inset 0 0 16px rgba(0,0,0,0.04);
}

textarea {
  flex: 1;
  background: #0f172a;
  color: #e2e8f0;
  border: none;
  border-radius: 6px;
  padding: 12px;
  font-family: monospace;
  font-size: 12px;
  resize: none;
}

button {
  background: #3b82f6;
  color: white;
  border: none;
  padding: 10px 18px;       /* smaller */
  border-radius: 6px;
  font-weight: 600;
  cursor: pointer;
  font-size: 14px;
}

/* ==================== RESUME STYLING ==================== */

.resume {
  max-width: 8.5in;
  margin: 0 auto;
  background: white;
  padding: 0.4in 0.4in;     /* slightly tighter */
  font-size: 9.8pt;         /* slightly smaller */
  line-height: 1.35;        /* tighter */
  color: #1f2937;
}

.header {
  text-align: center;
  margin-bottom: 0.12in;   /* reduced */
  padding-bottom: 0.1in;
  border-bottom: 2px solid #1e40af; /* thinner */
}

h1 {
  font-size: 24pt;          /* was 27 */
  font-weight: 700;
  color: #1e40af;
  margin-bottom: 3pt;
}

.contact {
  font-size: 9.8pt;
  color: #475569;
}

.title {
  font-size: 10.5pt;
  font-weight: 600;
  color: #1e40af;
  margin: 6pt 0 6pt;        /* tighter */
}

h2 {
  font-size: 9.8pt;
  color: #1e40af;
  border-bottom: 1px solid #e2e8f0;
  padding-bottom: 3pt;
  margin: 10pt 0 6pt;       /* reduced */
}

ul {
  padding-left: 16pt;
  margin: 4pt 0 8pt;        /* reduced */
}

li {
  margin-bottom: 4pt;       /* tighter bullets */
}

.skills {
  font-size: 9.6pt;
  line-height: 1.3;
  color: #374151;
}

section {
  margin-bottom: 8pt;       /* new — compress section gap */
}

/* Experience block tighter */
.jobBlock {
  margin-bottom: 10pt;      /* was 16pt inline */
}

@page {
  size: letter;
  margin: 0.4in;
}body {
  margin: 0;
  font-family: 'Inter', system-ui, sans-serif;
  background: #f8fafc;
  display: flex;
  height: 100vh;
  overflow: hidden;
}

.editor {
  width: 380px;              /* was 440 */
  background: #1e2937;
  color: white;
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  overflow-y: auto;
}

.preview {
  flex: 1;
  background: white;
  overflow-y: auto;
  padding: 20px 28px;        /* reduced */
  box-shadow: inset 0 0 16px rgba(0,0,0,0.04);
}

textarea {
  flex: 1;
  background: #0f172a;
  color: #e2e8f0;
  border: none;
  border-radius: 6px;
  padding: 12px;
  font-family: monospace;
  font-size: 12px;
  resize: none;
}

button {
  background: #3b82f6;
  color: white;
  border: none;
  padding: 10px 18px;       /* smaller */
  border-radius: 6px;
  font-weight: 600;
  cursor: pointer;
  font-size: 14px;
}

/* ==================== RESUME STYLING ==================== */

.resume {
  max-width: 8.5in;
  margin: 0 auto;
  background: white;
  padding: 0.4in 0.4in;     /* slightly tighter */
  font-size: 9.8pt;         /* slightly smaller */
  line-height: 1.35;        /* tighter */
  color: #1f2937;
}

.header {
  text-align: center;
  margin-bottom: 0.12in;   /* reduced */
  padding-bottom: 0.1in;
  border-bottom: 2px solid #1e40af; /* thinner */
}

h1 {
  font-size: 24pt;          /* was 27 */
  font-weight: 700;
  color: #1e40af;
  margin-bottom: 3pt;
}

.contact {
  font-size: 9.8pt;
  color: #475569;
}

.title {
  font-size: 10.5pt;
  font-weight: 600;
  color: #1e40af;
  margin: 6pt 0 6pt;        /* tighter */
}

h2 {
  font-size: 9.8pt;
  color: #1e40af;
  border-bottom: 1px solid #e2e8f0;
  padding-bottom: 3pt;
  margin: 10pt 0 6pt;       /* reduced */
}

ul {
  padding-left: 16pt;
  margin: 4pt 0 8pt;        /* reduced */
}

li {
  margin-bottom: 4pt;       /* tighter bullets */
}

.skills {
  font-size: 9.6pt;
  line-height: 1.3;
  color: #374151;
}

section {
  margin-bottom: 8pt;       /* new — compress section gap */
}

/* Experience block tighter */
.jobBlock {
  margin-bottom: 10pt;      /* was 16pt inline */
}

@page {
  size: letter;
  margin: 0.4in;
}body {
  margin: 0;
  font-family: 'Inter', system-ui, sans-serif;
  background: #f8fafc;
  display: flex;
  height: 100vh;
  overflow: hidden;
}

.editor {
  width: 380px;              /* was 440 */
  background: #1e2937;
  color: white;
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  overflow-y: auto;
}

.preview {
  flex: 1;
  background: white;
  overflow-y: auto;
  padding: 20px 28px;        /* reduced */
  box-shadow: inset 0 0 16px rgba(0,0,0,0.04);
}

textarea {
  flex: 1;
  background: #0f172a;
  color: #e2e8f0;
  border: none;
  border-radius: 6px;
  padding: 12px;
  font-family: monospace;
  font-size: 12px;
  resize: none;
}

button {
  background: #3b82f6;
  color: white;
  border: none;
  padding: 10px 18px;       /* smaller */
  border-radius: 6px;
  font-weight: 600;
  cursor: pointer;
  font-size: 14px;
}

/* ==================== RESUME STYLING ==================== */

.resume {
  max-width: 8.5in;
  margin: 0 auto;
  background: white;
  padding: 0.4in 0.4in;     /* slightly tighter */
  font-size: 9.8pt;         /* slightly smaller */
  line-height: 1.35;        /* tighter */
  color: #1f2937;
}

.header {
  text-align: center;
  margin-bottom: 0.12in;   /* reduced */
  padding-bottom: 0.1in;
  border-bottom: 2px solid #1e40af; /* thinner */
}

h1 {
  font-size: 24pt;          /* was 27 */
  font-weight: 700;
  color: #1e40af;
  margin-bottom: 3pt;
}

.contact {
  font-size: 9.8pt;
  color: #475569;
}

.title {
  font-size: 10.5pt;
  font-weight: 600;
  color: #1e40af;
  margin: 6pt 0 6pt;        /* tighter */
}

h2 {
  font-size: 9.8pt;
  color: #1e40af;
  border-bottom: 1px solid #e2e8f0;
  padding-bottom: 3pt;
  margin: 10pt 0 6pt;       /* reduced */
}

ul {
  padding-left: 16pt;
  margin: 4pt 0 8pt;        /* reduced */
}

li {
  margin-bottom: 4pt;       /* tighter bullets */
}

.skills {
  font-size: 9.6pt;
  line-height: 1.3;
  color: #374151;
}

section {
  margin-bottom: 8pt;       /* new — compress section gap */
}

/* Experience block tighter */
.jobBlock {
  margin-bottom: 10pt;      /* was 16pt inline */
}

@page {
  size: letter;
  margin: 0.4in;
}
@media print {
  /* Let the page grow and paginate */
  html, body {
    height: auto !important;
    overflow: visible !important;
  }

  body {
    display: block !important;
    background: #fff !important;
  }

  /* Hide the entire left editor column + any controls */
  .editor,
  textarea,
  button,
  input,
  select,
  .toolRow {
    display: none !important;
  }

  /* Make the preview area the only thing printed */
  .preview {
    overflow: visible !important;
    height: auto !important;
    padding: 0 !important;
    box-shadow: none !important;
  }

  .resume {
    margin: 0 !important;
    max-width: none !important;
    padding: 0 !important; /* use @page margin instead */
    box-shadow: none !important;
  }
}

@page {
  size: letter;
  margin: 0.4in;
}
  </style>
</head>
<body>

  <div class="editor">
    <h2 style="color:white;">Kyle Resume Generator</h2>
    <p style="color:#cbd5e1; font-size:13px;">Paste your full modular JSON below</p>
    
    <textarea id="jsonInput" placeholder='Paste the full JSON here...'></textarea>
    
    <button onclick="renderResume()">Render Resume</button>
    
    <small style="color:#64748b;">Ctrl + P → Save as PDF (Margins: Minimum)</small>
  </div>

  <div class="preview">
    <div id="resumePreview" class="resume">
      <p style="text-align:center; color:#64748b; margin-top:100px;">
        Paste your modular JSON and click Render Resume
      </p>
    </div>
  </div>

  <script>
    function renderResume() {
      const input = document.getElementById('jsonInput').value.trim();
      if (!input) {
        alert("Please paste the JSON first");
        return;
      }

      let data;
      try {
        data = JSON.parse(input);
      } catch (e) {
        alert("Invalid JSON. Please check the format.");
        return;
      }

      const preview = document.getElementById('resumePreview');
      const pi = data.personalInfo || {};

      let html = `
        <div class="header">
          <h1>${pi.fullName || 'Kyle Amundson'}</h1>
          <div class="contact">
            ${pi.location || ''} • ${pi.email || ''} • ${pi.phone || ''} • ${pi.linkedin || ''}
          </div>
          <div class="title">Senior CRM & Lifecycle Marketing Leader | Email & SMS Strategy | Customer Retention</div>
        </div>

        <section>
          <p>${(data.professionalSummaries && data.professionalSummaries[0] && data.professionalSummaries[0].text) || ''}</p>
        </section>

        <section>
          <h2>Selected Key Accomplishments</h2>
          <ul id="accomplishments"></ul>
        </section>

        <section>
          <h2>Technical Skills</h2>
          <div class="skills" id="skills"></div>
        </section>

        <section>
          <h2>Professional Experience</h2>
          <div id="experience"></div>
        </section>

        <section>
          <h2>Education</h2>
          <div id="education"></div>
        </section>
      `;

      preview.innerHTML = html;

      // Key Accomplishments
      const accList = document.getElementById('accomplishments');
      if (data.keyAccomplishments) {
        data.keyAccomplishments.forEach(item => {
          const li = document.createElement('li');
          li.textContent = item.text;
          accList.appendChild(li);
        });
      }

      // Technical Skills - ATS friendly
      const skillsDiv = document.getElementById('skills');
      if (data.technicalSkills && data.technicalSkills.tools) {
        skillsDiv.textContent = data.technicalSkills.tools.join(" • ");
      }

      // Experience
      const expDiv = document.getElementById('experience');
      if (data.experiences) {
        data.experiences.forEach(job => {
          let bulletsHTML = '';
          if (job.bullets && job.bullets.length) {
            bulletsHTML = '<ul>' + job.bullets.map(b => `<li>${b.text}</li>`).join('') + '</ul>';
          }

          expDiv.innerHTML += `
            <div style="margin-bottom:16pt;">
              <div style="display:flex; justify-content:space-between; margin-bottom:4pt;">
                <strong>${job.company}</strong>
                <span style="color:#64748b;">${job.dates}</span>
              </div>
              <div style="font-style:italic; color:#475569;">${job.title} ${job.location ? '• ' + job.location : ''}</div>
              ${bulletsHTML}
            </div>
          `;
        });
      }

      // Education
      const eduDiv = document.getElementById('education');
      if (data.education) {
        data.education.forEach(edu => {
          eduDiv.innerHTML += `
            <p><strong>${edu.degree}</strong><br>
            ${edu.institution} — ${edu.location || ''} — ${edu.graduationYear}</p>
          `;
        });
      }
    }

    // Ctrl+Enter shortcut
    document.getElementById('jsonInput').addEventListener('keydown', function(e) {
      if (e.ctrlKey && e.key === 'Enter') renderResume();
    });
  </script>
</body>
</html>